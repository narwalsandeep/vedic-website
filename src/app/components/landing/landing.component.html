<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
  <div class="container">
    <!-- Mobile toggle button -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

        <!-- Logo - centered on mobile, positioned between menus on desktop -->
        <a class="navbar-brand navbar-logo" routerLink="/">
          <img src="assets/logo.webp" alt="{{ title }}" height="50">
        </a>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarNav">
      <!-- Left Menu Items (4 items) -->
      <ul class="navbar-nav me-auto">
        <li class="nav-item" *ngFor="let item of leftMenuItems">
          <!-- Direct link for items without submenu -->
          <a class="nav-link" href="#" (click)="onMenuClick(item.id); $event.preventDefault()" *ngIf="item.submenu.length === 0">
            {{ item.title }}
          </a>
          <!-- Dropdown for items with submenu -->
          <div class="nav-item dropdown" *ngIf="item.submenu.length > 0">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              {{ item.title }}
            </a>
            <ul class="dropdown-menu">
              <li *ngFor="let subitem of item.submenu">
                <a class="dropdown-item" href="#" (click)="onMenuClick(subitem.id); $event.preventDefault()">{{ subitem.title }}</a>
              </li>
            </ul>
          </div>
        </li>
      </ul>

      <!-- Right Menu Items (4 items) -->
      <ul class="navbar-nav ms-auto">
        <li class="nav-item" *ngFor="let item of rightMenuItems">
          <!-- Direct link for items without submenu -->
          <a class="nav-link" href="#" (click)="onMenuClick(item.id); $event.preventDefault()" *ngIf="item.submenu.length === 0">
            {{ item.title }}
          </a>
          <!-- Dropdown for items with submenu -->
          <div class="nav-item dropdown" *ngIf="item.submenu.length > 0">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              {{ item.title }}
            </a>
            <ul class="dropdown-menu">
              <li *ngFor="let subitem of item.submenu">
                <a class="dropdown-item" href="#" (click)="onMenuClick(subitem.id); $event.preventDefault()">{{ subitem.title }}</a>
              </li>
            </ul>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Main Content -->
<div class="container-fluid main-content-wrapper">
  
  <!-- Loading State -->
  <div class="container py-3 py-md-5" *ngIf="isLoading">
    <div class="row justify-content-center text-center">
      <div class="col-12">
        <div class="spinner-border text-primary" role="status" style="width: 2rem; height: 2rem;">
          <span class="visually-hidden">Loading...</span>
        </div>
        <p class="mt-3 fs-5 fs-md-4">Loading content...</p>
      </div>
    </div>
  </div>

  <!-- Home Page Custom Template -->
  <div *ngIf="!isLoading && currentContent && currentContent.id === 'home'">
    <!-- Hero Banner -->
    <div class="container py-5">
      <div class="hero-image-wrapper rounded-4 shadow" style="position: relative; overflow: hidden; height: 400px;">
        <img src="assets/hero.webp" alt="Vedic Temple" class="w-100 h-100" style="object-fit: cover;">
        <div class="hero-overlay" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center;">
          <div class="text-center px-4">
            <h1 class="display-3 fw-bold mb-3 text-white" style="text-shadow: 2px 2px 8px rgba(0,0,0,0.7);">Welcome to Vedic Temple</h1>
            <p class="display-6 text-white" style="text-shadow: 1px 1px 4px rgba(0,0,0,0.7);">A spiritual sanctuary for peace, prayer and community</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Address & Opening Hours Section - Clean & Elegant -->
    <div class="container py-5 my-5" style="border-bottom: 2px solid #e9ecef;">
      <div class="row g-5">
        <div class="col-md-6">
          <div class="text-center p-4">
            <i class="fas fa-map-marker-alt fa-4x text-primary mb-4"></i>
            <h3 class="text-primary mb-4 fs-2">Temple Address</h3>
            <p class="mb-3 fw-bold fs-5 lh-lg text-dark">79-195 Radcliffe Road, Northam,<br>Southampton. SO14 0PS.</p>
            <p class="mb-3 fw-bold fs-4 text-primary">023 8063 2275</p>
            <p class="mb-0 fw-bold fs-5"><a href="mailto:secretary@vedicsociety.com" class="text-primary text-decoration-none">secretary&#64;vedicsociety.com</a></p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="text-center p-4">
            <i class="fas fa-clock fa-4x text-primary mb-4"></i>
            <h3 class="text-primary mb-4 fs-2">Opening Hours</h3>
            <p class="mb-3 fw-bold fs-4 text-dark">Monday - Saturday</p>
            <p class="mb-2 fw-bold fs-6 text-muted">Mornings: 9am - 12noon (Aarti at 10am)</p>
            <p class="mb-4 fw-bold fs-6 text-muted">Evenings: 3pm - 8pm (Aarti at 6:30pm)</p>
            <p class="mb-3 fw-bold fs-4 text-dark">Sunday</p>
            <p class="mb-2 fw-bold fs-6 text-muted">Mornings: 9:30am - 1:30pm (Aarti at 12noon)</p>
            <p class="mb-0 fw-bold fs-6 text-muted">Evenings: 3pm - 8pm (Aarti at 6:30pm)</p>
          </div>
        </div>
      </div>
    </div>


    <!-- Our Story Section (3 Cards) - Clean & Spacious -->
    <div class="container py-5 my-5" style="border-bottom: 2px solid #e9ecef;">
      <div class="row g-5">
        <div class="col-md-4">
          <div class="text-center">
            <img src="assets/our-history.webp" class="img-fluid rounded-4 shadow mb-4" alt="Our History" style="width: 100%; height: 280px; object-fit: cover;">
            <h4 class="text-primary mb-4 fs-3">Our History</h4>
            <p class="text-muted px-3">Established in 1971, the Vedic Society of Southampton began with a group of dedicated Hindus eager to preserve Sanatana Dharma. From humble home gatherings to celebrations in a Northam Church Hall, our journey reached a milestone on 11 August 1984, with the joyous inauguration of the Vedic Society Hindu Temple - a testament to our enduring commitment to traditions and community.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="text-center">
            <img src="assets/our-beliefs.webp" class="img-fluid rounded-4 shadow mb-4" alt="Our Beliefs" style="width: 100%; height: 280px; object-fit: cover;">
            <h4 class="text-primary mb-4 fs-3">Our Belief</h4>
            <p class="text-muted px-3">At the Vedic Society Hindu Temple, we cherish Hindu Sanskriti. Rooted in the ancient Indus Valley, our diverse beliefs draw from the sacred Vedas. Hindus believe that each person is intrinsically divine and the purpose of life is to seek and realize the divinity within all of us. Our celebrations, including Diwali and Holi, reflect our commitment to keeping Hindu traditions alive.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="text-center">
            <img src="assets/our-community.webp" class="img-fluid rounded-4 shadow mb-4" alt="Our Community" style="width: 100%; height: 280px; object-fit: cover;">
            <h4 class="text-primary mb-4 fs-3">Our Community</h4>
            <p class="text-muted px-3">In Southampton, our diverse Hindu community, numbering in the thousands, finds a vibrant hub in our Temple. From India, Nepal, East Africa, and beyond, we unite during festivals and activities, creating a close-knit, lively community.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Join Community Section - Clean & Centered -->
    <div class="container py-5 my-5" >
      <div class="text-center">
        <h2 class="text-primary mb-4 display-6">Join Our Community</h2>
        <p class="lead mb-5 text-muted">Stay connected with temple updates, events and spiritual teachings</p>
        <div class="row g-4 justify-content-center">
          <div class="col-sm-6 col-md-3">
            <a (click)="onMenuClick('members')" class="btn btn-lg w-100" style="background-color: var(--bs-primary); color: white; border-color: var(--bs-primary); cursor: pointer;">Become a Member</a>
          </div>
          <div class="col-sm-6 col-md-3">
            <a (click)="onMenuClick('volunteer')" class="btn btn-lg w-100" style="background-color: var(--bs-primary); color: white; border-color: var(--bs-primary); cursor: pointer;">Volunteer</a>
          </div>
          <div class="col-sm-6 col-md-3">
            <a (click)="onMenuClick('donate')" class="btn btn-lg w-100" style="background-color: var(--bs-primary); color: white; border-color: var(--bs-primary); cursor: pointer;">Support Us</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Donation Section - Clean & Spacious -->
    <div class="container py-5 my-5">
      <div class="row justify-content-center">
        <div class="col-lg-8 col-xl-6">
          <div class="text-center p-5">
            <div class="mb-4">
              <i class="fas fa-hands-holding-heart" style="font-size: 4rem; color: var(--bs-primary);"></i>
            </div>
            <h2 class="text-primary mb-4 display-6">Support Our Temple</h2>
            <p class="lead mb-4 text-muted">Your generous contributions help us maintain the temple, support community programs, and preserve our sacred traditions for future generations.</p>
            <p class="text-muted mb-5">Every donation, no matter the size, makes a meaningful difference in our community's spiritual journey.</p>
            <a href="https://wonderful.org/pay?ref=263969" target="_blank" class="btn btn-lg px-5 py-3" style="background-color: var(--bs-primary); color: white; border-color: var(--bs-primary); font-size: 1.25rem;">
              <i class="fas fa-heart me-2"></i>Donate Now
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Dynamic Content (All Other Pages) -->
  <div class="container py-3 py-md-4 py-lg-5 px-3 px-md-4" *ngIf="!isLoading && currentContent && currentContent.id !== 'home'">
    <!-- Page Header - Centered for Events, Activities, Services, Priest, Prayer, Gallery, Objectives, Trustees, Legal, School Visits, Booking Forms, Members, Volunteer, Contact, Donate, Sad Announcement, General Announcement & Shrines, Left-aligned for others -->
    <div class="row mb-4 mb-md-5" [class.text-center]="currentContent.id === 'events' || currentContent.template === 'activities' || currentContent.id === 'services' || currentContent.id === 'priest' || currentContent.id === 'prayer' || currentContent.id === 'gallery' || currentContent.id === 'objectives' || currentContent.id === 'trustees' || currentContent.id === 'legal' || currentContent.id === 'school-visits' || currentContent.id === 'booking-forms' || currentContent.id === 'members' || currentContent.id === 'volunteer' || currentContent.id === 'contact' || currentContent.id === 'donate' || currentContent.id === 'sad-announcement' || currentContent.id === 'general-announcement' || currentContent.id === 'shrines'">
      <div class="col-12">
        <h1 class="text-primary mb-3" 
            [class.display-4]="currentContent.id === 'events' || currentContent.template === 'activities' || currentContent.id === 'services' || currentContent.id === 'priest' || currentContent.id === 'prayer' || currentContent.id === 'gallery' || currentContent.id === 'objectives' || currentContent.id === 'trustees' || currentContent.id === 'legal' || currentContent.id === 'school-visits' || currentContent.id === 'booking-forms' || currentContent.id === 'members' || currentContent.id === 'volunteer' || currentContent.id === 'contact' || currentContent.id === 'donate' || currentContent.id === 'sad-announcement' || currentContent.id === 'general-announcement' || currentContent.id === 'shrines'" 
            [class.fs-2]="currentContent.id !== 'events' && currentContent.template !== 'activities' && currentContent.id !== 'services' && currentContent.id !== 'priest' && currentContent.id !== 'prayer' && currentContent.id !== 'gallery' && currentContent.id !== 'objectives' && currentContent.id !== 'trustees' && currentContent.id !== 'legal' && currentContent.id !== 'school-visits' && currentContent.id !== 'booking-forms' && currentContent.id !== 'members' && currentContent.id !== 'volunteer' && currentContent.id !== 'contact' && currentContent.id !== 'donate' && currentContent.id !== 'sad-announcement' && currentContent.id !== 'general-announcement' && currentContent.id !== 'shrines'" 
            [class.fs-md-1]="currentContent.id !== 'events' && currentContent.template !== 'activities' && currentContent.id !== 'services' && currentContent.id !== 'priest' && currentContent.id !== 'prayer' && currentContent.id !== 'gallery' && currentContent.id !== 'objectives' && currentContent.id !== 'trustees' && currentContent.id !== 'legal' && currentContent.id !== 'school-visits' && currentContent.id !== 'booking-forms' && currentContent.id !== 'members' && currentContent.id !== 'volunteer' && currentContent.id !== 'contact' && currentContent.id !== 'donate' && currentContent.id !== 'sad-announcement' && currentContent.id !== 'general-announcement' && currentContent.id !== 'shrines'">
          {{ currentContent.title }}
        </h1>
        <p class="lead mb-3 mb-md-4" 
           [class.fs-5]="currentContent.id === 'events' || currentContent.template === 'activities' || currentContent.id === 'services' || currentContent.id === 'prayer' || currentContent.id === 'gallery' || currentContent.id === 'sad-announcement' || currentContent.id === 'general-announcement' || currentContent.id === 'priest' || currentContent.id === 'objectives' || currentContent.id === 'trustees' || currentContent.id === 'legal' || currentContent.id === 'school-visits' || currentContent.id === 'booking-forms' || currentContent.id === 'members' || currentContent.id === 'volunteer' || currentContent.id === 'contact' || currentContent.id === 'donate' || currentContent.id === 'shrines'"
           [style.color]="'#4a5568'">
          {{ currentContent.description }}
        </p>
      </div>
    </div>

    <!-- Priest Page Template - Centered Image and Content, No Border/Shadow -->
    <div class="row" *ngIf="currentContent.type === 'page' && currentContent.id === 'priest'">
      <div class="col-12">
        <div class="priest-content-wrapper">
          <div [innerHTML]="currentContent.content"></div>
        </div>
      </div>
    </div>

    <!-- Objectives Page Template - Same as Priest -->
    <div class="row" *ngIf="currentContent.type === 'page' && currentContent.id === 'objectives'">
      <div class="col-12">
        <div class="priest-content-wrapper">
          <div [innerHTML]="currentContent.content"></div>
        </div>
      </div>
    </div>

    <!-- Legal Page Template - Same as Priest -->
    <div class="row" *ngIf="currentContent.type === 'page' && currentContent.id === 'legal'">
      <div class="col-12">
        <div class="priest-content-wrapper">
          <div [innerHTML]="currentContent.content"></div>
        </div>
      </div>
    </div>

    <!-- School Visits Page Template - Same as Priest -->
    <div class="row" *ngIf="currentContent.type === 'page' && currentContent.id === 'school-visits'">
      <div class="col-12">
        <div class="priest-content-wrapper">
          <div [innerHTML]="currentContent.content"></div>
        </div>
      </div>
    </div>

    <!-- Members Page Template - Same as Priest -->
    <div class="row" *ngIf="currentContent.type === 'page' && currentContent.id === 'members'">
      <div class="col-12">
        <div class="priest-content-wrapper">
          <div [innerHTML]="currentContent.content"></div>
        </div>
      </div>
    </div>

    <!-- Volunteer Page Template - Same as Priest -->
    <div class="row" *ngIf="currentContent.type === 'page' && currentContent.id === 'volunteer'">
      <div class="col-12">
        <div class="priest-content-wrapper">
          <div [innerHTML]="currentContent.content"></div>
        </div>
      </div>
    </div>

    <!-- Contact Page Template - Same as Priest -->
    <div class="row" *ngIf="currentContent.type === 'page' && currentContent.id === 'contact'">
      <div class="col-12">
        <div class="priest-content-wrapper">
          <div [innerHTML]="currentContent.content"></div>
        </div>
      </div>
    </div>

    <!-- Donate Page Template - Same as Priest -->
    <div class="row" *ngIf="currentContent.type === 'page' && currentContent.id === 'donate'">
      <div class="col-12">
        <div class="priest-content-wrapper">
          <div [innerHTML]="currentContent.content"></div>
        </div>
      </div>
    </div>

    <!-- Content based on type - Full Page Layout (Other Pages) -->
    <div class="row" *ngIf="currentContent.type === 'page' && currentContent.id !== 'priest' && currentContent.id !== 'objectives' && currentContent.id !== 'legal' && currentContent.id !== 'school-visits' && currentContent.id !== 'members' && currentContent.id !== 'volunteer' && currentContent.id !== 'contact' && currentContent.id !== 'donate'">
      <div class="col-12">
        <div class="card border-0 shadow-sm">
          <div class="card-body p-4">
        <div [innerHTML]="currentContent.content"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Services Template - Elegant Layout (Same as Events) -->
    <div class="row" *ngIf="currentContent.type === 'list' && currentContent.id === 'services' && currentContent.items">
      <div class="col-12">
        <div class="service-item mb-5 mb-md-6 pb-5 pb-md-6" *ngFor="let service of currentContent.items; let idx = index; let last = last" 
             [style.border-bottom]="!last ? '1px solid #e9ecef' : 'none'">
          <div class="card border-0 shadow-none overflow-hidden">
            <div class="row g-0" [class.flex-row-reverse]="idx % 2 === 1">
              <!-- Service Image - Alternates Left/Right -->
              <div class="col-lg-5">
                <!-- Image with modal if available -->
                <div *ngIf="service.image" class="service-main-image" style="position: relative; height: 100%; min-height: 400px; cursor: pointer; display: flex; align-items: center; justify-content: center;" 
                     data-bs-toggle="modal" [attr.data-bs-target]="'#serviceImageModal' + idx">
                  <img [src]="service.image" class="rounded-4 shadow" alt="{{ service.title }}" style="max-width: 100%; max-height: 100%; object-fit: contain; transition: transform 0.3s ease;">
                  <div class="image-overlay">
                    <i class="fas fa-search-plus fa-2x text-white"></i>
                  </div>
                </div>
                <!-- Placeholder if no image -->
                <div *ngIf="!service.image" class="bg-light d-flex align-items-center justify-content-center rounded-4" style="height: 100%; min-height: 400px;">
                  <i class="fas fa-om" style="font-size: 5rem; color: #dee2e6;"></i>
                </div>
              </div>
              <!-- Service Content - Alternates Right/Left (Spacious) -->
              <div class="col-lg-7">
                <div class="p-4 p-md-5">
                  <h2 class="mb-3 mb-md-4 service-title">{{ service.title }}</h2>
                  <div class="service-content" [innerHTML]="service.description"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Image Modal for this service -->
          <div class="modal fade" [id]="'serviceImageModal' + idx" tabindex="-1" aria-hidden="true" *ngIf="service.image">
            <div class="modal-dialog modal-dialog-centered modal-xl">
              <div class="modal-content bg-dark border-0">
                <div class="modal-header border-0 pb-0">
                  <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-4">
                  <img [src]="service.image" class="img-fluid rounded" alt="{{ service.title }}" style="width: 100%; height: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Activities Template - Elegant Layout (Similar to Events) -->
    <div class="row" *ngIf="currentContent.type === 'list' && currentContent.template === 'activities' && currentContent.items">
      <div class="col-12">
        <div class="activity-item mb-5 mb-md-6 pb-5 pb-md-6" *ngFor="let activity of currentContent.items; let idx = index; let last = last" 
             [style.border-bottom]="!last ? '1px solid #e9ecef' : 'none'">
          <div class="card border-0 shadow-none overflow-hidden">
            <div class="row g-0" [class.flex-row-reverse]="idx % 2 === 1">
              <!-- Activity Image - Alternates Left/Right -->
              <div class="col-lg-6">
                <!-- Image with modal if available -->
                <div *ngIf="activity.image" class="activity-main-image" style="position: relative; height: 100%; min-height: 400px; cursor: pointer; display: flex; align-items: center; justify-content: center;" 
                     data-bs-toggle="modal" [attr.data-bs-target]="'#activityImageModal' + idx">
                  <img [src]="activity.image" class="rounded-4 shadow" alt="{{ activity.title }}" style="max-width: 100%; max-height: 100%; object-fit: contain; transition: transform 0.3s ease;">
                  <div class="image-overlay">
                    <i class="fas fa-search-plus fa-2x text-white"></i>
                  </div>
                </div>
                <!-- Placeholder if no image -->
                <div *ngIf="!activity.image" class="bg-light d-flex align-items-center justify-content-center rounded-4" style="height: 100%; min-height: 400px;">
                  <i class="fas fa-hands-praying" style="font-size: 5rem; color: #dee2e6;"></i>
                </div>
              </div>
              <!-- Activity Content - Alternates Right/Left (Spacious) -->
              <div class="col-lg-6">
                <div class="p-4 p-md-5">
                  <h2 class="mb-3 mb-md-4 activity-title">{{ activity.title }}</h2>
                  <div class="activity-content" [innerHTML]="activity.description"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Image Modal for this activity -->
          <div class="modal fade" [id]="'activityImageModal' + idx" tabindex="-1" aria-hidden="true" *ngIf="activity.image">
            <div class="modal-dialog modal-dialog-centered modal-xl">
              <div class="modal-content bg-dark border-0">
                <div class="modal-header border-0 pb-0">
                  <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-4">
                  <img [src]="activity.image" class="img-fluid rounded" alt="{{ activity.title }}" style="width: 100%; height: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Full Width Content Template - Blog & Announcements -->
    <div class="row" *ngIf="currentContent.type === 'list' && (currentContent.template === 'blog' || currentContent.id === 'general-announcements') && currentContent.items">
      <div class="col-12 mb-4" *ngFor="let item of currentContent.items">
        <div class="card border-0 shadow-sm">
          <div class="card-body p-4">
            <div class="d-flex align-items-start">
              <div class="content-icon me-3 bg-light" *ngIf="currentContent.id === 'general-announcements'">
                <i class="fas fa-bullhorn fa-2x text-primary"></i>
              </div>
              <div class="flex-grow-1">
                <h4 class="card-title text-primary mb-3">{{ item.title }}</h4>
                <div class="card-text fs-6 lh-lg" [innerHTML]="item.description"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Trustees Template - 4 Per Row Grid (Grouped by Category) -->
    <div class="row" *ngIf="currentContent.type === 'list' && currentContent.id === 'trustees' && currentContent.items">
      <div class="col-12" *ngFor="let category of getCategoryKeys()">
        <!-- Category Heading -->
        <h3 class="text-primary mb-4 mt-5 text-start fw-bold" *ngIf="category !== 'Other'">
          {{ category }}
        </h3>
        
        <!-- Trustees in this category -->
        <div class="row mb-5">
          <div class="col-12 col-md-6 col-lg-2 mb-4" *ngFor="let trustee of groupTrusteesByCategory()[category]">
            <div class="card border-0 shadow-sm rounded-4 h-100">
              <div class="card-body p-3 text-center d-flex flex-column">
                <!-- Trustee Image -->
                <img *ngIf="trustee.image" 
                     [src]="trustee.image" 
                     class="img-fluid rounded-4 mx-auto mb-3" 
                     alt="{{ trustee.title }}" 
                     style="width: 200px; height: 200px; object-fit: contain; background-color: white; padding: 0.5rem;">
                
                <!-- Trustee Name -->
                <h5 class="card-title text-primary mb-2 fw-bold">{{ trustee.title }}</h5>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Gallery Template - Centered Layout with Image Grid and Modal -->
    <div class="row" *ngIf="currentContent.type === 'list' && currentContent.id === 'gallery' && currentContent.items">
      <div class="col-12">
        <div class="mb-5 mb-md-6 pb-5 pb-md-6" *ngFor="let gallery of currentContent.items; let galleryIdx = index; let last = last" 
             [style.border-bottom]="!last ? '1px solid #e9ecef' : 'none'">
          <!-- Gallery Title - Centered -->
          <h2 class="mb-4 mb-md-5 text-center gallery-title">{{ gallery.title }}</h2>
          
          <!-- Gallery Images Grid -->
          <div class="row g-3" *ngIf="gallery.images && gallery.images.length > 0">
            <div class="col-4 col-md-3" [style.flex]="'0 0 12.5%'" [style.max-width]="'12.5%'" *ngFor="let img of gallery.images; let imgIdx = index">
              <div class="gallery-img-card shadow" (click)="openGalleryImage(gallery.images!, imgIdx, 'galleryModal_' + galleryIdx)" 
                   data-bs-toggle="modal" [attr.data-bs-target]="'#galleryModal_' + galleryIdx"
                   style="cursor: pointer; position: relative; overflow: hidden; height: 150px; border-radius: 8px; transition: transform 0.3s ease;">
                <img [src]="img" class="w-100 h-100" alt="Gallery image {{ imgIdx + 1 }}" style="object-fit: cover; display: block;">
              </div>
            </div>
          </div>

          <!-- Modal for this gallery -->
          <div class="modal fade" [id]="'galleryModal_' + galleryIdx" tabindex="-1" aria-hidden="true" *ngIf="gallery.images && gallery.images.length > 0">
            <div class="modal-dialog modal-dialog-centered modal-xl">
              <div class="modal-content bg-dark border-0">
                <div class="modal-header border-0 pb-0">
                  <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-2 p-md-4 position-relative">
                  <!-- Current Image -->
                  <img *ngIf="currentGalleryModalId === 'galleryModal_' + galleryIdx && selectedGalleryImages.length > 0"
                       [src]="selectedGalleryImages[selectedGalleryIndex]" 
                       class="d-block w-100 rounded" 
                       alt="Gallery image" 
                       style="height: auto; max-height: 80vh; object-fit: contain;">
                  
                  <!-- Navigation Buttons -->
                  <button *ngIf="currentGalleryModalId === 'galleryModal_' + galleryIdx && selectedGalleryImages.length > 1" 
                          class="btn btn-link position-absolute top-50 start-0 translate-middle-y text-white" 
                          (click)="previousGalleryImage()" 
                          style="opacity: 0.8; font-size: 2rem; text-decoration: none;">
                    <i class="fas fa-chevron-left"></i>
                  </button>
                  <button *ngIf="currentGalleryModalId === 'galleryModal_' + galleryIdx && selectedGalleryImages.length > 1" 
                          class="btn btn-link position-absolute top-50 end-0 translate-middle-y text-white" 
                          (click)="nextGalleryImage()" 
                          style="opacity: 0.8; font-size: 2rem; text-decoration: none;">
                    <i class="fas fa-chevron-right"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Prayers Template - Simple List with Small Icons -->
    <div class="row" *ngIf="currentContent.type === 'list' && currentContent.id === 'prayer' && currentContent.items">
      <div class="col-12">
        <div class="prayer-item py-4" [style.border-bottom]="!last ? '1px solid #e9ecef' : 'none'" *ngFor="let prayer of currentContent.items; let idx = index; let last = last">
          <div class="d-flex align-items-start">
            <!-- Small Prayer Icon -->
            <div class="flex-shrink-0 me-4">
              <div class="bg-light rounded-circle d-flex align-items-center justify-content-center" style="width: 60px; height: 60px;">
                <i class="fas fa-hands-praying" style="font-size: 1.5rem; color: var(--bs-primary);"></i>
              </div>
            </div>
            <!-- Prayer Content -->
            <div class="flex-grow-1">
              <h3 class="mb-3 prayer-title" style="font-size: 1.5rem;">{{ prayer.title }}</h3>
              <div class="prayer-content" [innerHTML]="prayer.description"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Events Template - Full Width Elegant Layout -->
    <div class="row" *ngIf="currentContent.type === 'list' && currentContent.id === 'events' && currentContent.items">
      <div class="col-12">
        <div class="event-item mb-5 mb-md-6 pb-5 pb-md-6" *ngFor="let event of currentContent.items; let idx = index; let last = last" 
             [style.border-bottom]="!last ? '1px solid #e9ecef' : 'none'">
          <div class="card border-0 shadow-none overflow-hidden">
            <div class="row g-0" [class.flex-row-reverse]="idx % 2 === 1">
              <!-- Event Image - Alternates Left/Right -->
              <div class="col-lg-5">
                <!-- Image with modal if available -->
                <div *ngIf="event.image" class="event-main-image" style="position: relative; height: 100%; min-height: 400px; cursor: pointer; display: flex; align-items: center; justify-content: center;" 
                     data-bs-toggle="modal" [attr.data-bs-target]="'#imageModal' + idx">
                  <img [src]="event.image" class="rounded-4 shadow" alt="{{ event.title }}" style="max-width: 100%; max-height: 100%; object-fit: contain; transition: transform 0.3s ease;">
                  <div class="image-overlay">
                    <i class="fas fa-search-plus fa-2x text-white"></i>
                  </div>
                </div>
                <!-- Placeholder if no image -->
                <div *ngIf="!event.image" class="bg-light d-flex align-items-center justify-content-center" style="height: 100%; min-height: 400px;">
                  <i class="fas fa-calendar-days" style="font-size: 5rem; color: #dee2e6;"></i>
                </div>
              </div>
              <!-- Event Content - Alternates Right/Left (Spacious) -->
              <div class="col-lg-7">
                <div class="p-4 p-md-5">
                  <h2 class="mb-3 mb-md-4 event-title">{{ event.title }}</h2>
                  <div class="event-content" [innerHTML]="event.description"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Image Modal for this event -->
          <div class="modal fade" [id]="'imageModal' + idx" tabindex="-1" aria-hidden="true" *ngIf="event.image">
            <div class="modal-dialog modal-dialog-centered modal-xl">
              <div class="modal-content bg-dark border-0">
                <div class="modal-header border-0 pb-0">
                  <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-4">
                  <img [src]="event.image" class="img-fluid rounded" alt="{{ event.title }}" style="width: 100%; height: auto;">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- General Announcements Template - Content Only (No Images) -->
    <div class="row" *ngIf="currentContent.type === 'list' && currentContent.id === 'general-announcement' && currentContent.items">
      <div class="col-12">
        <div class="mb-5 mb-md-6 pb-5 pb-md-6" [style.border-bottom]="!last ? '1px solid #e9ecef' : 'none'" *ngFor="let announcement of currentContent.items; let idx = index; let last = last">
          <div class="card border-0 shadow-none">
            <!-- Announcement Content Only -->
            <div class="p-4 p-md-5">
              <h2 class="mb-3 mb-md-4 general-announcement-title">{{ announcement.title }}</h2>
              <div class="general-announcement-content" [innerHTML]="announcement.description"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Sad Announcements Template - Elegant Layout (Same as Events/Activities) -->
    <div class="row" *ngIf="currentContent.type === 'list' && currentContent.id === 'sad-announcement' && currentContent.items">
      <div class="col-12">
        <div class="mb-5 mb-md-6 pb-5 pb-md-6" [style.border-bottom]="!last ? '1px solid #e9ecef' : 'none'" *ngFor="let announcement of currentContent.items; let idx = index; let last = last">
          <div class="card border-0 shadow-none overflow-hidden">
            <div class="row g-0" [class.flex-row-reverse]="idx % 2 === 1">
              <!-- Announcement Image/Icon - Alternates Left/Right -->
              <div class="col-lg-6">
                <!-- Image if available, otherwise icon -->
                <div *ngIf="announcement.image" class="sad-announcement-image" style="position: relative; height: 100%; min-height: 400px; display: flex; align-items: center; justify-content: center;">
                  <img [src]="announcement.image" class="rounded-4 shadow" alt="{{ announcement.title }}" style="max-width: 100%; max-height: 100%; object-fit: contain;">
                </div>
                <!-- Placeholder icon if no image -->
                <div *ngIf="!announcement.image" class="bg-light d-flex align-items-center justify-content-center rounded-4" style="height: 100%; min-height: 400px;">
                  <i class="fas fa-heart-crack" style="font-size: 5rem; color: var(--bs-primary);"></i>
                </div>
              </div>
              <!-- Announcement Content -->
              <div class="col-lg-6">
                <div class="p-4 p-md-5">
                  <h2 class="mb-3 mb-md-4 sad-announcement-title">{{ announcement.title }}</h2>
                  <div class="sad-announcement-content" [innerHTML]="announcement.description"></div>
                  
                  <!-- Attachment Link if available -->
                  <a [href]="announcement.link" target="_blank" class="btn btn-outline-primary mt-3" *ngIf="announcement.link && announcement.link !== ''">
                    <i class="fas fa-file-pdf me-2"></i>View Attachment
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    

    <!-- Booking Forms Template - Simple List with Small Icons (Similar to Prayer) -->
    <div class="row" *ngIf="currentContent.type === 'list' && currentContent.id === 'booking-forms' && currentContent.items">
      <div class="col-12">
        <div class="booking-form-item py-4" [style.border-bottom]="!last ? '1px solid #e9ecef' : 'none'" *ngFor="let form of currentContent.items; let idx = index; let last = last">
          <div class="d-flex align-items-start">
            <!-- Small PDF Icon -->
            <div class="flex-shrink-0 me-4">
              <div class="bg-light rounded-circle d-flex align-items-center justify-content-center" style="width: 60px; height: 60px;">
                <i class="fas fa-file-pdf" style="font-size: 1.5rem; color: var(--bs-primary);"></i>
              </div>
            </div>
            <!-- Form Content -->
            <div class="flex-grow-1">
              <h3 class="mb-3" style="font-size: 1.5rem;">{{ form.title }}</h3>
              
              <!-- Download Button -->
              <a [href]="form.link" target="_blank" class="btn" 
                 style="background-color: var(--bs-primary); color: white; border-color: var(--bs-primary);"
                 *ngIf="form.link && form.link !== '#'">
                <i class="fas fa-download me-2"></i>Download Form
              </a>
              <button class="btn btn-secondary" *ngIf="!form.link || form.link === '#'" disabled>Form Not Available</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Temple/Shrines Template - 2 Per Row Grid (Multiple shrines with field_menu_item = "The Shrines") -->
    <div class="row" *ngIf="currentContent.type === 'list' && currentContent.id === 'shrines' && currentContent.items">
      <div class="col-12 col-md-6 col-lg-6 mb-5 mb-md-6" *ngFor="let shrine of currentContent.items">
        <div class="card border-0 shadow-none h-100">
          <div class="card-body p-4 p-md-5 text-center d-flex flex-column">
            <!-- Shrine Image -->
            <img *ngIf="shrine.image" 
                 [src]="shrine.image" 
                 class="img-fluid rounded-4 shadow mx-auto mb-4" 
                 alt="{{ shrine.title }}" 
                 style="width: 100%; height: 300px; object-fit: cover;">
            
            <!-- Shrine Title -->
            <h4 class="card-title text-primary mb-4 fw-bold">{{ shrine.title }}</h4>
            
            <!-- Shrine Description -->
            <div class="card-text lh-base text-start flex-grow-1" [innerHTML]="shrine.description"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Default List Content (Other menus) - Full Width with Full Content -->
    <div class="row" *ngIf="currentContent.type === 'list' && currentContent.template !== 'activities' && currentContent.template !== 'blog' && currentContent.id !== 'booking-forms' && currentContent.id !== 'general-announcement' && currentContent.id !== 'sad-announcement' && currentContent.id !== 'events' && currentContent.id !== 'services' && currentContent.id !== 'prayer' && currentContent.id !== 'gallery' && currentContent.id !== 'trustees' && currentContent.id !== 'shrines' && currentContent.items">
      <div class="col-12 mb-4" *ngFor="let item of currentContent.items">
        <div class="card border shadow rounded-4">
          <div class="card-body p-4">
            <h4 class="card-title text-primary mb-3">{{ item.title }}</h4>
            <img *ngIf="item.image" [src]="item.image" class="img-fluid mb-3 rounded" alt="{{ item.title }}" style="max-height: 400px; object-fit: cover; width: 100%;">
            <div class="card-text fs-6 lh-lg" [innerHTML]="item.description"></div>
          </div>
        </div>
      </div>
    </div>

  </div>

</div>

<!-- Footer - Dark & Comprehensive -->
<footer class="bg-primary text-white mt-auto">
  <div class="container py-5">
    <div class="row g-4">
      <!-- About Section -->
      <div class="col-md-4 mb-4">
        <h5 class="text-white mb-3 fw-bold">Vedic Society Hindu Temple</h5>
        <p class="mb-3">A spiritual sanctuary dedicated to preserving Sanatana Dharma and serving our community since 1971.</p>
        <div class="mb-2">
          <i class="fas fa-map-marker-alt me-2"></i>
          <span>79-195 Radcliffe Road, Southampton</span>
        </div>
        <div class="mb-2">
          <i class="fas fa-phone me-2"></i>
          <span>023 8063 2275</span>
        </div>
        <div>
          <i class="fas fa-envelope me-2"></i>
          <a href="mailto:secretary@vedicsociety.com" class="text-white text-decoration-none">secretary&#64;vedicsociety.com</a>
        </div>
      </div>

      <!-- Quick Links -->
      <div class="col-md-4 mb-4">
        <h5 class="text-white mb-3 fw-bold">Quick Links</h5>
        <ul class="list-unstyled">
          <li class="mb-2"><a (click)="onMenuClick('events')" class="text-white text-decoration-none" style="cursor: pointer;"><i class="fas fa-chevron-right me-2"></i>Events</a></li>
          <li class="mb-2"><a (click)="onMenuClick('activities')" class="text-white text-decoration-none" style="cursor: pointer;"><i class="fas fa-chevron-right me-2"></i>Activities</a></li>
          <li class="mb-2"><a (click)="onMenuClick('gallery')" class="text-white text-decoration-none" style="cursor: pointer;"><i class="fas fa-chevron-right me-2"></i>Gallery</a></li>
          <li class="mb-2"><a href="https://wonderful.org/pay?ref=263969" target="_blank" class="text-white text-decoration-none"><i class="fas fa-chevron-right me-2"></i>Donate</a></li>
        </ul>
      </div>

      <!-- Opening Hours -->
      <div class="col-md-4 mb-4">
        <h5 class="text-white mb-3 fw-bold">Opening Hours</h5>
        <div class="mb-3">
          <p class="mb-1 fw-bold">Monday - Saturday</p>
          <p class="mb-1 small">Mornings: 9am - 12noon</p>
          <p class="mb-0 small">Evenings: 3pm - 8pm</p>
        </div>
        <div>
          <p class="mb-1 fw-bold">Sunday</p>
          <p class="mb-1 small">Mornings: 9:30am - 1:30pm</p>
          <p class="mb-0 small">Evenings: 3pm - 8pm</p>
        </div>
      </div>
    </div>

    <!-- Footer Bottom -->
    <hr class="my-4" style="border-color: rgba(255,255,255,0.2);">
    <div class="row">
      <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
        <p class="mb-0">&copy; 2025 Vedic Society Hindu Temple. All rights reserved.</p>
      </div>
      <div class="col-md-6 text-center text-md-end">
        <a (click)="onMenuClick('legal')" class="text-white text-decoration-none me-3" style="cursor: pointer;">Legal</a>
        <a (click)="onMenuClick('contact')" class="text-white text-decoration-none" style="cursor: pointer;">Contact</a>
      </div>
    </div>
  </div>
</footer>